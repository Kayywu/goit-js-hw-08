{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAIMC,G,aAAmB,uBACnBC,EAAOC,SAASC,cAAc,kBAEhCC,EAAU,CACZC,MAAO,GACPC,QAAS,IAEXL,EAAKM,iBAAiB,UAOtB,SAAkBC,GACZJ,IACFI,EAAMC,iBACNC,QAAQC,IAAIP,GACZQ,aAAaC,WAAWb,GACxBQ,EAAMM,cAAcC,Q,IAXxBd,EAAKM,iBAAiB,QAASS,EAAAlB,EAAA,EAE/B,SAAiBU,GACfJ,EAAQI,EAAMS,OAAOC,MAAQV,EAAMS,OAAOE,MAC1CP,aAAaQ,QAAQpB,EAAkBqB,KAAKC,UAAUlB,G,GAJP,MAcjD,WACE,IAAMmB,EAAYX,aAAaY,QAAQxB,GACjCyB,EAAaJ,KAAKK,MAAMH,GAC9B,GAAIE,EACF,OAGgBE,EAHEF,EAIpBrB,EAAQC,MAAQsB,EAAKtB,MACrBD,EAAQE,QAAUqB,EAAKrB,QACvBL,EAAK2B,SAASvB,MAAMc,MAAQf,EAAQC,WACpCJ,EAAK2B,SAAStB,QAAQa,MAAQf,EAAQE,SAJxC,IAAoBqB,C,CApBpBE,E","sources":["src/js/03-feedback.js"],"sourcesContent":["'use strict';\n\nimport throttle from 'lodash/throttle';\n\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nimport throttle from 'lodash/throttle';\nlet formObj = {\n  email: '',\n  message: '',\n};\nform.addEventListener('submit', onSubmit);\nform.addEventListener('input', throttle(onInput, 500));\nsaveData();\nfunction onInput(event) {\n  formObj[event.target.name] = event.target.value;\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formObj));\n}\nfunction onSubmit(event) {\n  if (formObj) {\n    event.preventDefault();\n    console.log(formObj);\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n    event.currentTarget.reset();\n  }\n}\nfunction saveData() {\n  const savedData = localStorage.getItem(LOCALSTORAGE_KEY);\n  const savedDataP = JSON.parse(savedData);\n  if (savedDataP) {\n    return returnData(savedDataP);\n  }\n}\nfunction returnData(data) {\n  formObj.email = data.email;\n  formObj.message = data.message;\n  form.elements.email.value = formObj.email;\n  form.elements.message.value = formObj.message;\n}"],"names":["$eaxEB","parcelRequire","$b00c40859be242c5$var$LOCALSTORAGE_KEY","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$formObj","email","message","addEventListener","event","preventDefault","console","log","localStorage","removeItem","currentTarget","reset","$parcel$interopDefault","target","name","value","setItem","JSON","stringify","savedData","getItem","savedDataP","parse","data","elements","$b00c40859be242c5$var$saveData"],"version":3,"file":"03-feedback.b7b8fe37.js.map"}