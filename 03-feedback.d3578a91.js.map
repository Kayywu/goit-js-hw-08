{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAIA,MAAMC,EAAOC,SAASC,cAAc,kBAqDpCF,EAAKG,iBAAiB,QAASC,EAAAN,EAAA,CAASO,qBAAsB,MAC9DL,EAAKG,iBAAiB,UAvCIG,IAGtB,GAFAA,EAAMC,iBAEsC,KAAxCP,EAAKQ,mBAAmBC,MAAMC,OAA0D,KAA1CV,EAAKQ,mBAAmBG,QAAQD,MAAa,CAE3FE,MADqB,6C,MAGrB,IAC8BC,KAAKC,MAC3BC,aAAaC,QAAQ,wBAEzBC,QAAQC,IAAI,uBAAwBC,kBACpCJ,aAAaK,WAAW,uBACxBpB,EAAKQ,mBAAmBC,MAAMC,MAAQ,GACtCV,EAAKQ,mBAAmBG,QAAQD,MAAQ,E,CAC1C,MAAOW,GACLJ,QAAQC,IAAIG,EAAMC,MAClBL,QAAQC,IAAIG,EAAMV,Q,KAuB9BX,EAAKG,iBAAiB,QAlBH,KACf,IACI,MAAMoB,EAAgBV,KAAKC,MACvBC,aAAaC,QAAQ,wBAEzB,GAAsB,OAAlBO,EACA,OAEJvB,EAAKQ,mBAAmBC,MAAMC,MAAQa,EAAcd,MACpDT,EAAKQ,mBAAmBG,QAAQD,MAAQa,EAAcZ,O,CACxD,MAAOU,GACLJ,QAAQO,QAAQH,EAAMC,MACtBL,QAAQC,IAAIG,EAAMV,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["'use strict';\n\nimport throttle from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nlet formData = {\n    email: '',\n    message: '',\n}\n\nconst SaveCurrentFormVal = () => {\n    formData = {\n        email: form.nextElementSibling.email.value,\n        message: form.nextElementSibling.message.value,\n    };\n    console.log(formData);\n    localStorage.setItem('feedback-form-state', JSON.stringify(formData))\n};\n\nconst submitFormHandler = event => {\n    event.preventDefault();\n\n    if (form.nextElementSibling.email.value === '' || form.nextElementSibling.message.value === ''){\n        const alertMessage = 'Proszę uzupełnić wszystkie pola formularza';\n        alert(alertMessage);\n    } else {\n        try {\n            const submitFormHandler = JSON.parse(\n                localStorage.getItem('feedback-form-state')\n            );\n            console.log('Submited form data: ', submitedFormData);\n            localStorage.removeItem('feedback-form-state');\n            form.nextElementSibling.email.value = '';\n            form.nextElementSibling.message.value = '';\n        } catch (error) {\n            console.log(error.name);\n            console.log(error.message);\n        }\n    }\n}\n\nconst reloadPage = () => {\n    try {\n        const savedFormData = JSON.parse(\n            localStorage.getItem('feedback-form-state')\n        );\n        if (savedFormData === null) {\n            return;\n        }\n        form.nextElementSibling.email.value = savedFormData.email;\n        form.nextElementSibling.message.value = savedFormData.message;\n    } catch (error) {\n        console.timeLog(error.name);\n        console.log(error.message)\n    }\n}\n\nform.addEventListener('input', throttle(saveCurrentFormValue, 500));\nform.addEventListener('submit', submitFormHandler);\nform.addEventListener('load', reloadPage);\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","addEventListener","$parcel$interopDefault","saveCurrentFormValue","event","preventDefault","nextElementSibling","email","value","message","alert","JSON","parse","localStorage","getItem","console","log","submitedFormData","removeItem","error","name","savedFormData","timeLog"],"version":3,"file":"03-feedback.d3578a91.js.map"}